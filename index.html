<!-- <!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Document</title>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link rel='stylesheet' href='index.css'>
    <style>
        .hidden {
            display: none;
        }

        /* Add margin between the login and signup boxes */
        #signupForm {
            margin-top: 20px;
        }
        
        /* Set the video to fill the background */
        video {
            position: fixed;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translateX(-50%) translateY(-50%);
            z-index: -1; /* Make the video stay behind other content */
        }
    </style>
</head>

<body>
    <video autoplay loop muted>
        <source src="walk.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <section>
        <div class="form-box">
            <div class="form-value">
                <form id="loginForm">
                    <h2>Login</h2>
                    <div class="inputbox"> <ion-icon name="mail-outline"></ion-icon> <input type="email" required>
                        <label>Email</label>
                    </div>
                    <div class="inputbox"> <ion-icon name="lock-closed-outline"></ion-icon> <input type="password" required>
                        <label>Password</label> </div>
                    <div class="forget"> <label><input type="checkbox">Remember Me</label> <a href="#">Forgot
                            Password</a> </div>
                             <button >login in</button>
                    <div class="register">
                        <p>Don't have an account? <a href="#" id="signupLink">Sign Up</a></p>
                    </div>
                </form>
            </div>
        </div>
        <div id="signupForm" class="form-box hidden">
            <div class="form-value">
                <form>
                    <h2>Sign Up</h2>
                    <div class="inputbox"> <ion-icon name="person-outline"></ion-icon> <input type="text" required>
                        <label>Username</label>
                    </div>
                    <div class="inputbox"> <ion-icon name="mail-outline"></ion-icon> <input type="email" required>
                        <label>Email</label>
                    </div>
                    <div class="inputbox"> <ion-icon name="lock-closed-outline"></ion-icon> <input type="password" required>
                        <label>Password</label> </div>
                    <div class="inputbox"> <ion-icon name="lock-closed-outline"></ion-icon> <input type="password" required>
                        <label>Confirm Password</label> </div>
                    <button>Sign Up</button>
                </form>
            </div>
        </div>
    </section>
    

    <script>
        // Get the sign-up link and the sign-up form
        const signupLink = document.getElementById('signupLink');
        const signupForm = document.getElementById('signupForm');

        // Show the sign-up form when the link is clicked
        signupLink.addEventListener('click', function (event) {
            event.preventDefault(); // Prevent the default behavior of the link
            signupForm.classList.remove('hidden'); // Remove the 'hidden' class to show the form
        });

        // You can add form validation and submission logic here
    </script>


</body>

</html>
 -->
 <!DOCTYPE html>
 <html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
 </head>
 <body>
    <h1>User Registration</h1>
    <form id="registrationForm">
        <label for="email">Email:</label><br>
        <input type="email" id="email" name="email" required><br>
        <label for="password">Password:</label><br>
        <input type="password" id="password" name="password" required><br><br>
        <button type="button" onclick="register()">Register</button>
    </form>
    
 </body>
 <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-analytics.js";
    import { getDatabase } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-database.js";
    import { getAuth } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-auth.js"; // Import Firebase Authentication
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
  apiKey: "AIzaSyBjjEkMWEgl4tkgqSd4BVHNg8UP7ZVYqpA",
  authDomain: "temp-5f4de.firebaseapp.com",
  databaseURL: "https://temp-5f4de-default-rtdb.firebaseio.com",
  projectId: "temp-5f4de",
  storageBucket: "temp-5f4de.appspot.com",
  messagingSenderId: "325958949637",
  appId: "1:325958949637:web:c9def6ad16b4dbbed4b56c",
  measurementId: "G-RYHXF0G5L0"
};
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const database = getDatabase(app);

    function register()
    {
        email = document.getElementById('email').value
        password = document.getElementById('password').value
        if (validate_email(email)==false ||  validate_password(password)==false)
        {
            alert("Email or Password is incorrect")
            return
        }


           auth.createUserWithEmailAndPassword(email, password)
          .then(function () {
            // Signed in
            var user = auth.currentUser
            var database_ref=database.ref()
            //create user data
            var user_data={
                email : email,
            }
            database_ref.child('users/' + user.uid).set(user_data)
            alert("User created")
            // ...
            
          })
          .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            // ..
          });



    
    }
    function validate_email(email){
       exp= /^[^@]+@\w+(\.\w+)+\w$/
       if (exp.test(email)==true)
       {
        return true
       }
       else 
       {
        return false 
       }

    }
    function validate_password(password){
        if (password < 6)
        {
            return false
        }
        else 
        {
            return true
        }
    }
    

    
  </script>
 </html>